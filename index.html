<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-eqpuuiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class = "right-fish" id="player">
    <!--<img src="C:\Users\James\Pictures\Saved Pictures\fish facing left.gif" height="96px" width="96px" id="player" class="right-fish" />-->
  </div>
  <div class = "cpu" id="cpu">
  </div>
</body>
<script>


const player = document.getElementById("player");
const container = document.getElementById("container");
var frameRate=1;
var accel=0.2;
var decel=0.95;
var xspeed=0.00;
var yspeed=0.00;
var startSize=100;
var size=startSize;
var startX=25;
var startY=25;

var playerCenterX=-1000;
var playerCenterY=-1000;
var cpu1CenterX=-1000;
var cpu1CenterY=-1000;

player.style.left=String(startX)+"px";
player.style.top=String(startY)+"px";;
var xloc=startX;
var yloc=startY;
var cpuMaxSize=100;
var cpu1xloc=0;
var cpu1yloc=25;
var cpu1size=10;
var cpu1left=false;
var upLeft=false;
var upRight=false;
var downLeft=false;
var downRight=false;
var right=false;
var down=false;
var up=false;
var left=false;

document.onkeydown = function(event) {
  switch (event.keyCode) {
    case 37:
        left=true;
        player.classList.remove("right-fish");
        player.classList.add("left-fish");
      break;
    case 38:
        up=true;
      break;
    case 39:
        right=true;
        player.classList.remove("left-fish");
        player.classList.add("right-fish");
      break;
    case 40:
        down=true;
      break;
        }
    };
document.onkeyup = function(event) {
  switch (event.keyCode) {
    case 37:
        left=false;
      break;
    case 38:
        up=false;
      break;
    case 39:
        right=false;
      break;
    case 40:
        down=false;
      break;
        }
    };

move=function(){
  updatePlayerObject();
  updateCPU1();  
  checkForCollisions();
}
checkForCollisions=function(){
  playerCenterX=xloc+size/2;
  playerCenterY=yloc+size/2;
  cpu1CenterX=cpu1xloc+cpu1size/2;
  cpu1CenterY=cpu1yloc+cpu1size/2;
  if(Math.sqrt(Math.pow(playerCenterX-cpu1CenterX,2)+Math.pow(playerCenterY-cpu1CenterY,2))<Math.abs((size+cpu1size)/2)){
    hasCollided();
  }
}
hasCollided=function(){
  console.log(5);
}
var magic=40;
var base=1;
updateCPU1=function(){
  if(cpu1left){
    cpu1xloc=cpu1xloc-((cpuMaxSize/magic-cpu1size/(2*magic))+base);
  }
  else{
    cpu1xloc=cpu1xloc+((cpuMaxSize/magic-cpu1size/(2*magic))+base);
  }
  
  if(cpu1xloc>window.innerWidth){
    cpu1size = Math.random()*cpuMaxSize;
    cpu1yloc=Math.random()*window.innerHeight;
    cpu1xloc = (cpu1xloc+window.innerWidth) % window.innerWidth;
  }
  cpu.style.left=String(Math.round(cpu1xloc))+"px";
  cpu.style.top=String(Math.round(cpu1yloc))+"px";
  cpu.style.width=cpu1size;
  cpu.style.height=cpu1size;
  cpu.style.backgroundSize=String(Math.round(cpu1size))+"px "+String(Math.round(cpu1size))+"px";
}
updatePlayerObject=function(){
  player.style.width=size;
  player.style.height=size;
  player.style.backgroundSize=String(Math.round(size))+"px "+String(Math.round(size))+"px";

  player.style.height=size;
  yloc = (yloc+window.innerHeight) % window.innerHeight;
    xloc = (xloc+window.innerWidth) % window.innerWidth;
    if(up){
      yspeed-=accel;
    }
    if(down){
      yspeed+=accel;
    }
    if(left){
      xspeed-=accel;
      
    }
    if(right){
      xspeed+=accel;
    }
    xspeed*=decel;
    yspeed*=decel;
    xloc=xloc+xspeed;
    yloc=yloc+yspeed;
    player.style.left=String(Math.round(xloc))+"px";
    player.style.top=String(Math.round(yloc))+"px";
}


setInterval(move, frameRate);
</script>
</html>




